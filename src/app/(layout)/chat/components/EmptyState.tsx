"use client"

import { memo, useMemo } from "react"

import { EnumProviderThreads } from "@/types/enum"

import { cx } from "@/lib/cx"
import { useSelectChat } from "@/store"
import { useCountMessagesNotReading } from "@/helpers"

import styles from "../styles/empty.module.scss"

function EmptyState() {
  const select = useSelectChat(({ select }) => select)
  const { data } = useCountMessagesNotReading(false)

  const items = data ?? []

  const countNull = useMemo(
    () => (select === "all" ? items.length : items.filter((item) => item.provider === select).length),
    [items, select],
  )

  return (
    <article className={cx("flex flex-col items-center gap-4", styles.article)}>
      <div className="w-[4.375rem] h-[4.375rem] rounded-full flex items-center justify-center p-[1.1875rem] bg-grey-field">
        {countNull > 0 ? (
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none" className="w-8 h-8">
            <g clip-path="url(#clip0_6838_181801)">
              <path
                d="M31.7649 2.6467L30.1648 1.04684C29.8528 0.734589 29.3464 0.734344 29.0342 1.04636C29.0339 1.0466 29.0337 1.0466 29.0337 1.04684L19.4336 10.6467C19.2837 10.7969 19.1992 11.0002 19.1992 11.2124V12.8125C19.1992 13.2541 19.5574 13.6123 19.9993 13.6123H21.5994C21.8115 13.6123 22.0149 13.5281 22.1648 13.3782L31.7649 3.77805C32.0772 3.46579 32.0774 2.95969 31.7654 2.64719C31.7651 2.64719 31.7649 2.64694 31.7649 2.6467Z"
                fill="#7471F8"
              />
              <path
                d="M21.6001 15.2124H20C18.6751 15.2109 17.6013 14.1372 17.5999 12.8125V11.2124C17.5984 10.5757 17.8516 9.96461 18.303 9.51563L23.8062 4.01245H4C1.79175 4.01489 0.00244141 5.8042 0 8.01246V22.4124C0.00244141 24.6206 1.79175 26.4102 4 26.4124H11.2V30.4124C11.2 30.8543 11.5581 31.2124 12 31.2124C12.1731 31.2124 12.3416 31.1563 12.48 31.0523L18.6675 26.4124H26.3999C28.6082 26.4099 30.3977 24.6204 30.3999 22.4124V7.40625L23.2969 14.5093C22.8477 14.9609 22.2368 15.2139 21.6001 15.2124ZM5.6001 8.81251H13.6001C14.0418 8.81251 14.3999 9.17066 14.3999 9.61256C14.3999 10.0542 14.0418 10.4124 13.6001 10.4124H5.6001C5.15821 10.4124 4.80005 10.0545 4.80005 9.61256C4.80005 9.17066 5.15821 8.81251 5.6001 8.81251ZM5.6001 13.6123H13.6001C14.0418 13.6123 14.3999 13.9705 14.3999 14.4124C14.3999 14.8543 14.0418 15.2124 13.6001 15.2124H5.6001C5.15821 15.2124 4.80005 14.8543 4.80005 14.4124C4.80005 13.9707 5.15821 13.6123 5.6001 13.6123ZM25.5999 19.2124C25.5999 19.6543 25.2417 20.0125 24.8001 20.0125H5.6001C5.15821 20.0125 4.80005 19.6543 4.80005 19.2124C4.80005 18.7708 5.15821 18.4124 5.6001 18.4124H24.8001C25.2417 18.4124 25.5999 18.7705 25.5999 19.2124Z"
                fill="#7471F8"
              />
            </g>
            <defs>
              <clipPath id="clip0_6838_181801">
                <rect width="32" height="32" fill="white" />
              </clipPath>
            </defs>
          </svg>
        ) : select === EnumProviderThreads.BARTER ? (
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none" className="w-8 h-8">
            <g clip-path="url(#clip0_7333_11688)">
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M24.4788 0.334857C24.9238 -0.111619 25.6491 -0.111619 26.0941 0.334857L29.1417 3.38248C29.3085 3.54931 29.413 3.75466 29.4552 3.96974C29.4599 3.99374 29.4638 4.018 29.467 4.0425C29.4734 4.09157 29.4766 4.14098 29.4766 4.19038C29.4766 4.52027 29.3366 4.81799 29.1128 5.02666L26.0941 8.04533C25.6491 8.49181 24.9238 8.49181 24.4788 8.04533C24.0324 7.60038 24.0324 6.87505 24.4788 6.43009L25.5746 5.33357H16.1432C15.5124 5.33357 15.0004 4.82157 15.0004 4.19071C15.0004 3.55985 15.5124 3.04785 16.1432 3.04785H25.5759L24.4788 1.9501C24.0324 1.50514 24.0324 0.779809 24.4788 0.334857ZM7.99717 4.93544C8.44365 5.3804 8.44365 6.10573 7.99717 6.55068L6.90016 7.64844H16.3337C16.9646 7.64844 17.4766 8.16044 17.4766 8.79129C17.4766 9.42215 16.9646 9.93415 16.3337 9.93415H6.90139L7.99717 11.0307C8.44365 11.4756 8.44365 12.201 7.99717 12.6459C7.55222 13.0924 6.82689 13.0924 6.38193 12.6459L3.3434 9.60739C3.33034 9.59459 3.31759 9.58148 3.30516 9.56808C2.88806 9.1198 2.89778 8.4196 3.33431 7.98306L6.38193 4.93544C6.82689 4.48897 7.55222 4.48897 7.99717 4.93544ZM2.30248 16.8302C2.16076 16.687 1.96724 16.6078 1.76457 16.6078H0.761905C0.341333 16.6078 0 16.9491 0 17.3697V27.6356C0 27.8367 0.0807619 28.0302 0.222476 28.1735C0.365714 28.3167 0.559238 28.3975 0.761905 28.3975H1.76457C1.96724 28.3975 2.16076 28.3167 2.30248 28.1735C2.44571 28.0302 2.52648 27.8367 2.52648 27.6356V17.3697C2.52648 17.167 2.44571 16.9735 2.30248 16.8302ZM10.6362 18.8432C10.9608 18.0371 11.5627 17.3819 12.323 16.9887C11.2579 16.3122 9.94133 16.1461 8.73448 16.5483L4.21029 18.0569V27.5548H6.13029C7.23505 27.5548 8.31695 27.8657 9.2541 28.4508L12.5989 30.5415C13.5589 31.1403 14.7992 31.0291 15.6373 30.2687L18.7992 27.3933C19.645 26.6238 20.1021 25.5144 20.0411 24.3731C20.0244 24.0577 19.875 23.7011 19.6952 23.3476C19.4621 22.8889 19.1665 22.4424 18.9105 22.0904L14.9227 23.5167C13.3181 24.0912 11.5383 23.3765 10.7749 21.8527L10.7535 21.8101C10.2918 20.8836 10.2476 19.8032 10.6362 18.8432ZM27.7897 26.3632V18.0859L21.5269 16.3076C20.6888 16.0699 19.7973 16.0973 18.9745 16.3883L13.3425 18.3784C12.8213 18.5613 12.4038 18.9605 12.1981 19.4725C11.9909 19.9861 12.0137 20.5621 12.2606 21.0558L12.2819 21.0984C12.6629 21.8603 13.5543 22.2184 14.3558 21.932L20.2469 19.823C20.6842 19.6661 21.1672 19.8946 21.3227 20.332C21.4796 20.7693 21.2526 21.2523 20.8137 21.4093L20.5455 21.5053C21.0926 22.3388 21.6792 23.4344 21.7234 24.2832C21.8103 25.932 21.152 27.5304 19.9314 28.6398L19.8278 28.7342L21.7935 29.2965C23.264 29.7171 24.8472 29.3072 25.9276 28.2253L27.7897 26.3632ZM29.6975 28.1735C29.8392 28.3167 30.0328 28.3975 30.2354 28.3975H31.2381C31.6587 28.3975 32 28.0562 32 27.6356V17.3697C32 17.167 31.9192 16.9735 31.7775 16.8302C31.6343 16.687 31.4408 16.6078 31.2381 16.6078H30.2354C29.8149 16.6078 29.4735 16.9491 29.4735 17.3697V27.6356C29.4735 27.8367 29.5543 28.0302 29.6975 28.1735Z"
                fill="url(#paint0_linear_7333_11688)"
              />
            </g>
            <defs>
              <linearGradient id="paint0_linear_7333_11688" x1="0" y1="0" x2="37.7277" y2="10.6672" gradientUnits="userSpaceOnUse">
                <stop stop-color="#7F7DE3" />
                <stop offset="1" stop-color="#5F5DE6" />
              </linearGradient>
              <clipPath id="clip0_7333_11688">
                <rect width="32" height="32" fill="white" />
              </clipPath>
            </defs>
          </svg>
        ) : select === EnumProviderThreads.OFFER_PAY ? (
          <svg xmlns="http://www.w3.org/2000/svg" width="28" height="32" viewBox="0 0 28 32" fill="none" className="h-8 w-7">
            <path
              d="M1.8125 12.0124L21.4004 0L27.3684 9.73174L27.3631 9.73502L27.3643 9.73697L17.5702 15.7432L17.569 15.7413L7.78054 21.7441L1.8125 12.0124Z"
              fill="#6361E1"
            />
            <path
              d="M22.7516 4.64844L1.12109 12.4009L4.97269 23.1475L15.7836 19.2728L15.7852 19.2771L26.6006 15.4009L26.599 15.3965L26.6032 15.395L22.7516 4.64844Z"
              fill="url(#paint0_linear_7333_37721)"
            />
            <path
              d="M13.8623 17.3888C15.7884 17.3888 17.3497 15.8274 17.3497 13.9014C17.3497 11.9754 15.7884 10.4141 13.8623 10.4141C11.9363 10.4141 10.375 11.9754 10.375 13.9014C10.375 15.8274 11.9363 17.3888 13.8623 17.3888Z"
              fill="#EAECF0"
            />
            <path
              d="M25.2199 15.6172H2.71588C1.56764 15.6172 0.636719 16.5481 0.636719 17.6964V29.9255C0.636719 31.0737 1.56764 32.0046 2.71588 32.0046H25.2199C26.3682 32.0046 27.2991 31.0737 27.2991 29.9255V17.6964C27.2991 16.5481 26.3682 15.6172 25.2199 15.6172Z"
              fill="url(#paint1_linear_7333_37721)"
            />
            <path
              d="M1.59289 15.9531C1.01898 16.3232 0.636719 16.965 0.636719 17.6987V29.9278C0.636719 31.076 1.56764 32.0069 2.71588 32.0069H25.2199C25.9441 32.0069 26.5805 31.6356 26.9529 31.0741C13.8609 27.961 3.00356 17.9673 1.59289 15.9531Z"
              fill="url(#paint2_linear_7333_37721)"
            />
            <path
              d="M25.3196 18.1953H19.0705C18.6779 18.1953 18.3594 18.5134 18.3594 18.906C18.3594 19.2984 18.6777 19.6167 19.0705 19.6167H25.3196C25.712 19.6167 26.0305 19.2984 26.0305 18.906C26.0303 18.5134 25.712 18.1953 25.3196 18.1953Z"
              fill="#EAECF0"
            />
            <defs>
              <linearGradient id="paint0_linear_7333_37721" x1="1.12109" y1="4.64844" x2="29.54" y2="15.345" gradientUnits="userSpaceOnUse">
                <stop stop-color="#7F7DE3" />
                <stop offset="1" stop-color="#5F5DE6" />
              </linearGradient>
              <linearGradient
                id="paint1_linear_7333_37721"
                x1="0.636719"
                y1="15.6172"
                x2="28.9822"
                y2="28.2187"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#7F7DE3" />
                <stop offset="1" stop-color="#5F5DE6" />
              </linearGradient>
              <linearGradient
                id="paint2_linear_7333_37721"
                x1="0.636719"
                y1="15.9531"
                x2="28.5445"
                y2="28.4534"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#8B89F5" />
                <stop offset="0.0001" stop-color="#7B78F9" />
                <stop offset="1" stop-color="#4643FC" />
              </linearGradient>
            </defs>
          </svg>
        ) : select === EnumProviderThreads.PERSONAL ? (
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none" className="w-8 h-8">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M7.99609 9.39764C7.99609 11.5519 9.28865 13.4111 11.1419 14.2314C11.0593 13.8065 11.018 13.3638 11.018 12.9212C11.018 9.36223 13.7388 6.32856 17.1797 5.82098C16.2118 4.77041 14.8248 4.10938 13.2844 4.10938C10.3628 4.10938 7.99609 6.47611 7.99609 9.39764ZM14.1999 18.8621C10.8711 19.9717 8.16206 22.4446 6.73376 25.6436H3.96568C3.33416 25.6436 2.83249 25.1419 2.95643 24.3864C3.50532 19.8064 6.88721 16.0704 11.3787 15.1615C11.8863 16.6724 12.8955 17.9708 14.1999 18.8621ZM23.7505 12.9202C23.7505 9.9059 21.2843 7.40872 18.2761 7.3653L18.2723 7.36528L18.2548 7.36521L18.2513 7.36511L18.2284 7.35938H18.1956C15.1545 7.35938 12.6406 9.74109 12.6406 12.9143C12.6406 13.5648 12.7522 14.1855 12.9632 14.7692C12.9948 14.8576 13.0321 14.9508 13.069 15.0368C13.5773 16.251 14.5058 17.2538 15.6644 17.8548C16.4271 18.2517 17.2896 18.4751 18.1956 18.4751C21.2408 18.4751 23.7505 15.9654 23.7505 12.9202ZM14.0696 20.6318C11.7287 21.5815 9.79299 23.3115 8.58907 25.5076C7.94839 26.6802 7.51868 27.9861 7.35472 29.3762C7.28343 29.8206 7.39349 30.2142 7.63794 30.4988C7.8816 30.7824 8.24122 30.9369 8.62814 30.9369H27.7686C28.5717 30.9369 29.189 30.1518 29.0415 29.3719C28.39 23.9573 23.7485 19.7031 18.2013 19.7031C17.3027 19.7031 16.3917 19.829 15.6059 20.0915C15.4825 20.1232 15.3712 20.167 15.2695 20.2239C14.8554 20.3415 14.4605 20.4719 14.0696 20.6318Z"
              fill="url(#paint0_linear_7333_36565)"
            />
            <defs>
              <linearGradient
                id="paint0_linear_7333_36565"
                x1="2.9375"
                y1="4.10937"
                x2="34.0025"
                y2="12.3757"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#7F7DE3" />
                <stop offset="1" stop-color="#5F5DE6" />
              </linearGradient>
            </defs>
          </svg>
        ) : (
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none" className="w-8 h-8">
            <g clip-path="url(#clip0_7233_137311)">
              <path
                d="M31.7649 2.6467L30.1648 1.04684C29.8528 0.734589 29.3464 0.734344 29.0342 1.04636C29.0339 1.0466 29.0337 1.0466 29.0337 1.04684L19.4336 10.6467C19.2837 10.7969 19.1992 11.0002 19.1992 11.2124V12.8125C19.1992 13.2541 19.5574 13.6123 19.9993 13.6123H21.5994C21.8115 13.6123 22.0149 13.5281 22.1648 13.3782L31.7649 3.77805C32.0772 3.46579 32.0774 2.95969 31.7654 2.64719C31.7651 2.64719 31.7649 2.64694 31.7649 2.6467Z"
                fill="#7471F8"
              />
              <path
                d="M21.6001 15.2127H20C18.6751 15.2112 17.6013 14.1375 17.5999 12.8128V11.2127C17.5984 10.5759 17.8516 9.96485 18.303 9.51587L23.8062 4.0127H4C1.79175 4.01514 0.00244141 5.80445 0 8.0127V22.4126C0.00244141 24.6209 1.79175 26.4104 4 26.4126H11.2V30.4126C11.2 30.8545 11.5581 31.2127 12 31.2127C12.1731 31.2127 12.3416 31.1565 12.48 31.0525L18.6675 26.4126H26.3999C28.6082 26.4102 30.3977 24.6206 30.3999 22.4126V7.4065L23.2969 14.5095C22.8477 14.9612 22.2368 15.2141 21.6001 15.2127ZM5.6001 8.81275H13.6001C14.0418 8.81275 14.3999 9.1709 14.3999 9.6128C14.3999 10.0545 14.0418 10.4126 13.6001 10.4126H5.6001C5.15821 10.4126 4.80005 10.0547 4.80005 9.6128C4.80005 9.1709 5.15821 8.81275 5.6001 8.81275ZM5.6001 13.6126H13.6001C14.0418 13.6126 14.3999 13.9707 14.3999 14.4126C14.3999 14.8545 14.0418 15.2127 13.6001 15.2127H5.6001C5.15821 15.2127 4.80005 14.8545 4.80005 14.4126C4.80005 13.971 5.15821 13.6126 5.6001 13.6126ZM25.5999 19.2127C25.5999 19.6546 25.2417 20.0127 24.8001 20.0127H5.6001C5.15821 20.0127 4.80005 19.6546 4.80005 19.2127C4.80005 18.771 5.15821 18.4126 5.6001 18.4126H24.8001C25.2417 18.4126 25.5999 18.7708 25.5999 19.2127Z"
                fill="#7471F8"
              />
            </g>
            <defs>
              <clipPath id="clip0_7233_137311">
                <rect width="32" height="32" fill="white" />
              </clipPath>
            </defs>
          </svg>
        )}
      </div>
      <div className="flex flex-col items-center gap-2 w-full max-w-[16.875rem]">
        {countNull > 0 ? (
          <p className="text-text-primary text-sm text-center font-normal whitespace-nowrap">Выберите, кому хотели бы написать</p>
        ) : select === EnumProviderThreads.BARTER ? (
          <>
            <h2 className="text-text-primary text-center text-lg font-semibold whitespace-nowrap">Обмены</h2>
            <p className="text-text-primary text-sm text-center font-normal whitespace-nowrap">Тут будут диалоги с предложениями обмена</p>
          </>
        ) : select === EnumProviderThreads.OFFER_PAY ? (
          <>
            <h2 className="text-text-primary text-center text-lg font-semibold whitespace-nowrap">Покупки</h2>
            <p className="text-text-primary text-sm text-center font-normal whitespace-nowrap">
              Тут будут диалоги с предложениями покупки услуги
            </p>
          </>
        ) : select === EnumProviderThreads.PERSONAL ? (
          <>
            <h2 className="text-text-primary text-center text-lg font-semibold whitespace-nowrap">Личные</h2>
            <p className="text-text-primary text-sm text-center font-normal whitespace-nowrap">
              Тут будут личные сообщения с пользователями
            </p>
          </>
        ) : (
          <>
            <h2 className="text-text-primary text-center text-lg font-semibold whitespace-nowrap">Пока нет диалогов</h2>
            <p className="text-text-primary text-sm text-center font-normal whitespace-nowrap">Написать кому‑нибудь можно в его профиле</p>
          </>
        )}
      </div>
    </article>
  )
}

EmptyState.displayName = "EmptyState"
export default memo(EmptyState)
